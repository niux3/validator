!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="../../example/js/",t(t.s=1)}([function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){r(this,e),this.$el=t.element,this.id=t.id}return o(e,[{key:"on",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.$el.addEventListener(e,function(e){t(e,n)},r)}}]),e}();t.a=a},function(e,t,n){n(2),e.exports=n(11)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);window.addEventListener("DOMContentLoaded",function(e){var t={selector:".formToValidate",mode:"object",fields:{civility:{target:{error:"#messageCivility"},notempty:{message:"Ce champ ne doit pas être vide"}},firstname:{target:{error:".messageFirstname"},notempty:{message:"Ce champ ne doit pas être vide"},minlength:{params:3,message:"Ce champ doit avoir minimum 3 caractères"}},lastname:{target:{error:".messageLastname"},notempty:{message:"Ce champ ne doit pas être vide"},minlength:{params:3,message:"Ce champ doit avoir minimum 3 caractères"}},email:{target:{error:"#messageEmail"},notempty:{message:"Ce champ ne doit pas être vide"},email:{message:"Ce champ doit avoir la bonne saisie (dom@dom.com)"}},subject:{target:{error:"#messageSubject"},notempty:{message:"Ce champ ne doit pas être vide"},minlength:{params:3,message:"Ce champ doit avoir minimum 3 caractères"}},message:{target:{error:"#messageMessage"},notempty:{message:"Ce champ ne doit pas être vide"},minlength:{params:3,message:"Ce champ doit avoir minimum 3 caractères"}},validatePhone:{target:{error:"#messagePhoneChoice"},notempty:{message:"Ce champ ne doit pas être vide"}},hobbiesChoice:{target:{error:".choiceHobbiesMessage"},notempty:{message:"Ce champ ne doit pas être vide"}},phone:{target:{error:"#messagePhone"},checkphone:{message:"Le format ne semble pas être bon 0102030405"},notempty:{message:"Ce champ ne doit pas être vide"}},"hobbies[]":{target:{error:".hobbiesMessage"},minlength:{params:2,message:"vous devez choisir au moins 2 loisirs"},maxlength:{params:3,message:"vous devez choisir au maximum 3 loisirs"},notempty:{message:"Ce champ ne doit pas être vide"}},password:{target:{error:".messagePassword"},notempty:{message:"Ce champ ne doit pas être vide"}},"selectMultiple[]":{minlength:{params:2,message:"vous devez choisir au moins 2 items"},maxlength:{params:3,message:"vous devez choisir au maximum 3 items"},notempty:{message:"Ce champ ne doit pas être vide"}},checkpassword:{target:{error:".messageCheckPassword"},notempty:{message:"Ce champ ne doit pas être vide"},equalto:{params:"#password",message:"Ce champ doit être identique au champs mot de passe"}},dateAppointement:{target:{error:"#messageDate"},notempty:{message:"Ce champ ne doit pas être vide"},date:{message:"Ce champ doit être une date valide"}}}},n=new r.a(t);n.addRules("checkphone",function(e){return!/^0[1-8][ .-]?(\d{2}[ .-]?){4}$/.test(e)}),n.form();var o=["input[type=text]","input[type=date]","input[type=password]","input[type=radio]","input[type=checkbox]","select","textarea"];document.querySelectorAll(o.join(",")).forEach(function(e){var t="select"===e.nodeName.toLowerCase()?"change":"focus";e.addEventListener(t,function(e){if(e.target.classList.remove("error"),e.target.closest("form").querySelector('[data-name="field_'+e.target.name+'"]')){var t=e.target.closest("form").querySelector('[data-name="field_'+e.target.name+'"]');t.parentNode.removeChild(t)}}),e.addEventListener("blur",function(e){n.element(e.target)})});var a=document.getElementById("phone");a.parentNode.style.display="none",document.getElementsByName("validatePhone").forEach(function(e){e.addEventListener("change",function(e){e.target.checked&&"validatePhoneYes"===e.target.id?(a.parentNode.style.display="block",n.addRequireField(a)):(a.parentNode.style.display="none",n.removeRequireField(a))})});var i=document.getElementsByName("hobbies[]"),s=document.getElementById("hobies-container");document.getElementsByName("hobbiesChoice").forEach(function(e){e.addEventListener("change",function(e){e.target.checked&&"hobbiesYes"===e.target.id?(s.style.display="block",i.forEach(function(e){n.addRequireField(e)})):(s.style.display="none",i.forEach(function(e){n.removeRequireField(e)}))})}),console.log("'dom@dom' ===  format email --\x3e ",n.check("dom@dom","email"))})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(4),a=n(5),i=n(7),s=n(10),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r(this,e),o.a.run(),this.__configuration=new a.a(t),this.__rules=new s.a,this.__FormsGroup=new i.a(this.__configuration),this}return u(e,[{key:"form",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.__FormsGroup.each(function(n){n.on("submit",function(n,r){r.notify(function(t,n){t.clean().validate(e.__rules).displayState()}),n.target.querySelectorAll(".error").length>0&&(null!==t&&t(),n.preventDefault())})})}},{key:"element",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.__FormsGroup.each(function(r){r.notify(function(r,o){if(r.$el===e)return r.clean().validate(t.__rules).displayState(),null!==n&&n(),r.$el})})}},{key:"addRequireField",value:function(e){this.__FormsGroup.each(function(t){t.$el===e.closest("form")&&(e.classList.add("require"),t.addField(e))})}},{key:"removeRequireField",value:function(e){this.__FormsGroup.each(function(t,n){t.notify(function(n,r){n.$el===e&&(n.$el.classList.remove("require"),t.rmField(r))})})}},{key:"addRequireForm",value:function(e){this.__FormsGroup.addForm(e)}},{key:"removeRequireForm",value:function(e){this.__FormsGroup.rmForm(e)}},{key:"addRules",value:function(e,t){this.__rules.set(e,t)}},{key:"check",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return!this.__rules.get()[t](e,n)}}]),e}();t.a=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){r(this,e)}return o(e,null,[{key:"run",value:function(){if(window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t,n=(this.document||this.ownerDocument).querySelectorAll(e),r=this;do{for(t=n.length;--t>=0&&n.item(t)!==r;);}while(t<0&&(r=r.parentElement));return r}),"function"==typeof NodeList.prototype.forEach)return!1;NodeList.prototype.forEach=Array.prototype.forEach,Array.prototype.forEach||(Array.prototype.forEach=function(e){var t,n;if(null==this)throw new TypeError(" this vaut null ou n est pas défini");var r=Object(this),o=r.length>>>0;if("function"!=typeof e)throw new TypeError(e+" n est pas une fonction");for(arguments.length>1&&(t=arguments[1]),n=0;n<o;){var a;n in r&&(a=r[n],e.call(t,a,n,r)),n++}})}}]),e}();t.a=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(6),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t){r(this,e);var n={selector:"form",mode:"html"};return this.__configuration=this.__replace(n,t),"html"===this.__configuration.mode&&(this.__configuration=new o.a(this.__configuration)),this}return i(e,[{key:"__replace",value:function(e){var t=0,n="",r=arguments.length,o=void 0;if(r<2)throw new Error("There should be at least 2 arguments passed to array_replace_recursive()");if("[object Array]"===Object.prototype.toString.call(e)){o=[];for(n in e)o.push(e[n])}else{o={};for(n in e)o[n]=e[n]}for(t=1;t<r;t++)for(n in arguments[t])o[n]&&"object"===a(o[n])?o[n]=array_replace_recursive(o[n],arguments[t][n]):o[n]=arguments[t][n];return o}},{key:"add",value:function(e,t){this.__configuration[e]=t}},{key:"get",value:function(){return this.__configuration}}]),e}();t.a=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){return r(this,e),t}return o(e,[{key:"__requireEls",value:function(){var e=this;this.configuration.fields={},document.querySelectorAll("[data-validationrules]").forEach(function(t){e.__paramsRulesNode(t)})}},{key:"__paramsRulesNode",value:function(e){var t=this;e.getAttribute("data-validationrules").trim().replace(/\s+/g," ").split(" ").forEach(function(n){void 0===t.configuration.fields[e.name]&&(t.configuration.fields[e.name]={}),t.configuration.fields[e.name][n]={};var r={};null!==e.getAttribute("data-targeterror")&&(r.error=e.getAttribute("data-targeterror")),null!==e.getAttribute("data-targetsuccess")&&(r.success=e.getAttribute("data-targetsuccess")),(r.hasOwnProperty("error")||r.hasOwnProperty("success"))&&(t.configuration.fields[e.name].target=r);var o={};null!==e.getAttribute("data-validation"+n)&&(o.params=e.getAttribute("data-validation"+n).trim()),o.message=e.getAttribute("data-error"+n).trim(),t.configuration.fields[e.name][n]=o})}}]),e}();t.a=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(8),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){var n=this;r(this,e),this.__configuration=t,this.__index=0,this.__forms=[],document.querySelectorAll(this.__configuration.get().selector).forEach(function(e,t){n.addForm(e)})}return a(e,[{key:"addForm",value:function(e){var t={element:e,id:"vfo"+this.__forms.length+"_",configuration:this.__configuration.get().fields};this.__forms.push(new o.a(t))}},{key:"rmForm",value:function(e){var t=this;this.each(function(e,n){e.$el===$el&&delete t.__forms[n]})}},{key:"get",value:function(){return this.__forms}},{key:"each",value:function(e){var t=void 0;for(this.reset();t=this.current();)this.next(),e(t,this.__index-1)}},{key:"current",value:function(){var e=this.get()[this.__index];return this.__index+=1,e}},{key:"next",value:function(){return!(this.__index>=this.get().length||null===this.get()[this.__index])}},{key:"reset",value:function(){this.__index=0}}]),e}();t.a=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s=n(9),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.__configuration=e.configuration,n.__fields=[],n.$el.querySelectorAll(".require, [required]").forEach(function(e,t){n.addField(e)}),n}return a(t,e),u(t,[{key:"addField",value:function(e){var t=Object.keys(this.__configuration).indexOf(e.name),n=-1!==t?this.__configuration[Object.keys(this.__configuration)[t]]:{},r={element:e,id:this.id+"_vfi"+this.__fields.length,configuration:n};this.__fields.push(new s.a(r))}},{key:"getFields",value:function(){return this.__fields}},{key:"rmField",value:function(e){this.__fields[e].clean(),delete this.__fields[e]}},{key:"notify",value:function(e){this.__fields.forEach(function(t,n){t.update(t,n,e)})}}]),t}(i.a);t.a=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.__configuration=e.configuration,n.__state={success:!1,error:!1,message:null},n.__switchRequireAttribute(),n}return a(t,e),u(t,[{key:"resetState",value:function(){this.setState({sucess:!1,error:!1,message:null})}},{key:"setState",value:function(e){"object"===(void 0===e?"undefined":s(e))&&(this.__state=e)}},{key:"update",value:function(e,t,n){return n(this,t)}},{key:"clean",value:function(){for(var e in this.__state)if("message"!==e&&!0===this.__state[e]&&(this.resetState(),this.$el.classList.remove(e),null!==document.getElementById(this.id))){var t=document.getElementById(this.id);t.parentNode.removeChild(t)}return this}},{key:"displayState",value:function(){var e=this,t='.error[data-name="field_'+this.$el.name+'"], .success[data-name="field_'+this.$el.name+'"]';for(var n in this.__state){var r=function(n){if("message"!==n&&e.__state[n])if(e.$el.classList.add(n),e.__state.message=null!==e.__state.message?e.__state.message:"",e.__configuration.hasOwnProperty("target"))e.$el.closest("form").querySelector(e.__configuration.target[n])&&e.$el.closest("form").querySelectorAll(e.__configuration.target[n]).forEach(function(r){r.querySelectorAll(t).length>0||r.insertAdjacentHTML("beforeend",e.__getTemplateMessage(n,e.id,e.$el.name,e.__state.message))});else{if(e.$el.parentNode.querySelectorAll(t).length>0)return{v:void 0};e.$el.insertAdjacentHTML("afterend",e.__getTemplateMessage(n,e.id,e.$el.name,e.__state.message))}}(n);if("object"===(void 0===r?"undefined":s(r)))return r.v}return this}},{key:"validate",value:function(e){var t=this,n=e.get(),r=this.__getRulesList(),o=void 0,a=[];return"checkbox"===this.$el.type||"select"===this.$el.nodeName.toLowerCase()&&this.$el.hasAttribute("multiple")||"radio"===this.$el.type?("select"===this.$el.nodeName.toLowerCase()?this.$el.querySelectorAll("option").forEach(function(e){e.selected&&a.push(e.value)}):document.getElementsByName(this.$el.name).forEach(function(e){e.checked&&a.push(e.value)}),o=a):o=this.$el.value.trim(),r.forEach(function(e){for(var r in n)r===e&&n[r](o,t.__configuration[r])&&(t.__state.error=!0,t.__state.message=t.__configuration[r].message),t.__state.error?t.__state.success=!1:t.__state.success=!0}),this}},{key:"__getTemplateMessage",value:function(e,t,n,r){return'<span id="'+t+'" data-name="field_'+n+'" class="'+e+'">'+r+"</span>"}},{key:"__getRulesList",value:function(){var e=!1,t=[];for(var n in this.__configuration)"target"!==(n=n.trim().replace(/\s+/g," "))&&("notempty"===n?e=!0:t.push(n));return e&&t.push("notempty"),t}},{key:"__switchRequireAttribute",value:function(){this.$el.hasAttribute("required")&&(this.$el.removeAttribute("required"),this.$el.classList.add("require"))}}]),t}(i.a);t.a=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){r(this,e),this.__rulesList={boolean:function(){return!new RegExp("^0|1|true|false$").test(arguments.length<=0?void 0:arguments[0])},notempty:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===parseInt(t[0].length,10)},email:function(){return!new RegExp("^([a-z0-9]+[-._]?[a-z0-9]+)+@([a-z0-9]+[-._]?[a-z0-9]+)+.[a-z]{2,}$").test(arguments.length<=0?void 0:arguments[0])},alphanumeric:function(){return!new RegExp("^[a-z0-9]+$").test(arguments.length<=0?void 0:arguments[0])},numeric:function(){return!new RegExp("^[0-9]+$").test(arguments.length<=0?void 0:arguments[0])},float:function(){return!new RegExp("^[0-9]+(.|,)[0-9]+$").test(arguments.length<=0?void 0:arguments[0])},alpha:function(){return!new RegExp("^[a-zA-Z]+$").test(arguments.length<=0?void 0:arguments[0])},url:function(){return!new RegExp("^(https?://(?:www.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9].[^s]{2,}|www.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9].[^s]{2,}|https?://(?:www.|(?!www))[a-zA-Z0-9].[^s]{2,}|www.[a-zA-Z0-9].[^s]{2,})$").test(arguments.length<=0?void 0:arguments[0])},ipv4:function(){return!new RegExp("^([0-2][0-5][0-9].){3}[0-2][0-5][0-9]$").test(arguments.length<=0?void 0:arguments[0])},min:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return parseInt(t[0],10)<parseInt(t[1].params,10)},max:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return parseInt(t[0],10)>parseInt(t[1].params,10)},between:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[1].split(";");return t[0]>parseInt(r[0],10)||t[0]<parseInt(r[1],10)},maxlength:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return parseInt(t[0].length,10)>parseInt(t[1].params,10)},minlength:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return parseInt(t[0].length,10)<parseInt(t[1].params,10)},betweenlength:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0].split(";");return t[0].length<r[0]||t[0].length>r[1]},equalto:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[1].params;if(document.querySelector(r)){if(t[0]!==document.querySelector(r).value.trim())return!0}else{if(/[^0-9]/.test(r)&&r!==t[0])return!0;if(parseInt(r,10)!==parseInt(t[0],10))return!0}},date:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(""===t[0])return!0;var r=t[0].match(/^(\d{4})-(\d{2})-(\d{2})/,"gi"),o=r[2],a=r[1],i=r[3];return!1==(o>0&&o<13&&a>0&&a<32768&&i>0&&i<=new Date(a,o,0).getDate())}}}return o(e,[{key:"get",value:function(){return this.__rulesList}},{key:"set",value:function(e,t){this.__rulesList[e]=t}}]),e}();t.a=a},function(e,t){}]);